{"ast":null,"code":"import _toConsumableArray from \"/home/rosiline/coding/FE2-NC-News/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _classCallCheck from \"/home/rosiline/coding/FE2-NC-News/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/rosiline/coding/FE2-NC-News/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/rosiline/coding/FE2-NC-News/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/rosiline/coding/FE2-NC-News/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/rosiline/coding/FE2-NC-News/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/rosiline/coding/FE2-NC-News/src/components/Topics.jsx\";\nimport React, { Component } from 'react';\nimport { Link } from '@reach/router';\nimport * as api from '../api';\n\nvar Topics =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Topics, _Component);\n\n  function Topics() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Topics);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Topics)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      topics: [],\n      loading: true\n    };\n\n    _this.handleSubmit = function (event) {\n      event.preventDefault();\n      var slug = event.target.children[1].value;\n      var description = event.target.children[4].value;\n      api.addTopic(slug, description).then(function (topic) {\n        _this.setState(function (prevState) {\n          return {\n            topics: [].concat(_toConsumableArray(prevState.topics), [topic])\n          };\n        });\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(Topics, [{\n    key: \"render\",\n    value: function render() {\n      var _this$state = this.state,\n          topics = _this$state.topics,\n          loading = _this$state.loading;\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 12\n        },\n        __self: this\n      }, React.createElement(\"h3\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 13\n        },\n        __self: this\n      }, \"Topics\"), React.createElement(\"form\", {\n        onSubmit: this.handleSubmit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 14\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        htmlFor: \"slug\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 15\n        },\n        __self: this\n      }, \"Topic\"), React.createElement(\"input\", {\n        type: \"text\",\n        id: \"slug\",\n        required: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 16\n        },\n        __self: this\n      }), \" \", React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 16\n        },\n        __self: this\n      }), React.createElement(\"label\", {\n        htmlFor: \"description\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 17\n        },\n        __self: this\n      }, \"Description\"), React.createElement(\"input\", {\n        type: \"text\",\n        id: \"description\",\n        required: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 18\n        },\n        __self: this\n      }), \" \", React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 18\n        },\n        __self: this\n      }), React.createElement(\"input\", {\n        type: \"submit\",\n        value: \"Add New Topic\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 19\n        },\n        __self: this\n      })), loading && 'Loading...', React.createElement(\"ul\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 22\n        },\n        __self: this\n      }, topics.map(function (_ref) {\n        var slug = _ref.slug;\n        return React.createElement(Link, {\n          key: slug,\n          to: \"/topics/\".concat(slug),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 24\n          },\n          __self: this\n        }, React.createElement(\"li\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 24\n          },\n          __self: this\n        }, slug));\n      })));\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.fetchTopics();\n    }\n  }, {\n    key: \"fetchTopics\",\n    value: function fetchTopics() {\n      var _this2 = this;\n\n      api.getTopics().then(function (topics) {\n        _this2.setState({\n          topics: topics,\n          loading: false\n        });\n      });\n    }\n  }]);\n\n  return Topics;\n}(Component);\n\n;\nexport default Topics;","map":{"version":3,"sources":["/home/rosiline/coding/FE2-NC-News/src/components/Topics.jsx"],"names":["React","Component","Link","api","Topics","state","topics","loading","handleSubmit","event","preventDefault","slug","target","children","value","description","addTopic","then","topic","setState","prevState","map","fetchTopics","getTopics"],"mappings":";;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,IAAT,QAAqB,eAArB;AACA,OAAO,KAAKC,GAAZ,MAAqB,QAArB;;IAEMC,M;;;;;;;;;;;;;;;;;UACJC,K,GAAQ;AACNC,MAAAA,MAAM,EAAE,EADF;AAENC,MAAAA,OAAO,EAAE;AAFH,K;;UAkCRC,Y,GAAe,UAACC,KAAD,EAAW;AACxBA,MAAAA,KAAK,CAACC,cAAN;AACA,UAAMC,IAAI,GAAGF,KAAK,CAACG,MAAN,CAAaC,QAAb,CAAsB,CAAtB,EAAyBC,KAAtC;AACA,UAAMC,WAAW,GAAGN,KAAK,CAACG,MAAN,CAAaC,QAAb,CAAsB,CAAtB,EAAyBC,KAA7C;AACAX,MAAAA,GAAG,CAACa,QAAJ,CAAaL,IAAb,EAAmBI,WAAnB,EAAgCE,IAAhC,CAAqC,UAAAC,KAAK,EAAI;AAC5C,cAAKC,QAAL,CAAc,UAAAC,SAAS,EAAI;AACzB,iBAAO;AAAEd,YAAAA,MAAM,+BAAMc,SAAS,CAACd,MAAhB,IAAwBY,KAAxB;AAAR,WAAP;AACD,SAFD;AAGD,OAJD;AAKD,K;;;;;;;6BAvCQ;AAAA,wBACqB,KAAKb,KAD1B;AAAA,UACCC,MADD,eACCA,MADD;AAAA,UACSC,OADT,eACSA,OADT;AAEP,aAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADK,EAEL;AAAM,QAAA,QAAQ,EAAE,KAAKC,YAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAO,QAAA,OAAO,EAAC,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBADF,EAEE;AAAO,QAAA,IAAI,EAAC,MAAZ;AAAmB,QAAA,EAAE,EAAC,MAAtB;AAA6B,QAAA,QAAQ,MAArC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFF,OAE2C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAF3C,EAGE;AAAO,QAAA,OAAO,EAAC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAHF,EAIE;AAAO,QAAA,IAAI,EAAC,MAAZ;AAAmB,QAAA,EAAE,EAAC,aAAtB;AAAoC,QAAA,QAAQ,MAA5C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAJF,OAIkD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAJlD,EAKE;AAAO,QAAA,IAAI,EAAC,QAAZ;AAAqB,QAAA,KAAK,EAAC,eAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QALF,CAFK,EASJD,OAAO,IAAI,YATP,EAUL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACGD,MAAM,CAACe,GAAP,CAAW,gBAAc;AAAA,YAAXV,IAAW,QAAXA,IAAW;AACxB,eAAO,oBAAC,IAAD;AAAM,UAAA,GAAG,EAAEA,IAAX;AAAiB,UAAA,EAAE,oBAAaA,IAAb,CAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAwC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAKA,IAAL,CAAxC,CAAP;AACD,OAFA,CADH,CAVK,CAAP;AAgBD;;;wCAEmB;AAClB,WAAKW,WAAL;AACD;;;kCAEa;AAAA;;AACZnB,MAAAA,GAAG,CAACoB,SAAJ,GAAgBN,IAAhB,CAAqB,UAAAX,MAAM,EAAI;AAC7B,QAAA,MAAI,CAACa,QAAL,CAAc;AAAEb,UAAAA,MAAM,EAANA,MAAF;AAAUC,UAAAA,OAAO,EAAE;AAAnB,SAAd;AACD,OAFD;AAGD;;;;EAjCkBN,S;;AA6CpB;AAED,eAAeG,MAAf","sourcesContent":["import React, { Component } from 'react';\nimport { Link } from '@reach/router';\nimport * as api from '../api';\n\nclass Topics extends Component {\n  state = {\n    topics: [],\n    loading: true\n  }\n  render() {\n    const { topics, loading } = this.state;\n    return <div>\n      <h3>Topics</h3>\n      <form onSubmit={this.handleSubmit}>\n        <label htmlFor=\"slug\">Topic</label>\n        <input type=\"text\" id=\"slug\" required /> <br />\n        <label htmlFor=\"description\">Description</label>\n        <input type=\"text\" id=\"description\" required /> <br />\n        <input type=\"submit\" value=\"Add New Topic\" />\n      </form>\n      {loading && 'Loading...'}\n      <ul>\n        {topics.map(({ slug }) => {\n          return <Link key={slug} to={`/topics/${slug}`}><li>{slug}</li></Link>\n        })}\n      </ul>\n    </div>\n  }\n\n  componentDidMount() {\n    this.fetchTopics();\n  }\n\n  fetchTopics() {\n    api.getTopics().then(topics => {\n      this.setState({ topics, loading: false })\n    })\n  }\n\n  handleSubmit = (event) => {\n    event.preventDefault();\n    const slug = event.target.children[1].value;\n    const description = event.target.children[4].value;\n    api.addTopic(slug, description).then(topic => {\n      this.setState(prevState => {\n        return { topics: [...prevState.topics, topic] }\n      })\n    });\n  }\n};\n\nexport default Topics;"]},"metadata":{},"sourceType":"module"}