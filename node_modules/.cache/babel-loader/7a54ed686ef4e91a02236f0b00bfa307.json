{"ast":null,"code":"import _objectSpread from \"/home/rosiline/coding/FE2-NC-News/nc-knews/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _classCallCheck from \"/home/rosiline/coding/FE2-NC-News/nc-knews/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/rosiline/coding/FE2-NC-News/nc-knews/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/rosiline/coding/FE2-NC-News/nc-knews/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/rosiline/coding/FE2-NC-News/nc-knews/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/rosiline/coding/FE2-NC-News/nc-knews/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/rosiline/coding/FE2-NC-News/nc-knews/src/components/Comment.jsx\";\nimport React, { Component } from 'react';\nimport Button from './Button';\nimport IconImage from './IconImage';\nimport like_icon from '../icons/like_icon.png';\nimport dislike_icon from '../icons/dislike_icon.png';\nimport * as api from '../api';\n\nvar Comment =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Comment, _Component);\n\n  function Comment() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Comment);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Comment)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      comment: {}\n    };\n\n    _this.handleCommentVote = function (comment_id, voteChange) {\n      api.updateCommentVote(comment_id, voteChange).then(function (comment) {\n        _this.setState(function (prevState) {\n          return {\n            comment: _objectSpread({}, prevState.comment, {\n              votes: prevState.comment.votes + voteChange\n            })\n          };\n        });\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(Comment, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$state$comment = this.state.comment,\n          comment_id = _this$state$comment.comment_id,\n          author = _this$state$comment.author,\n          body = _this$state$comment.body,\n          votes = _this$state$comment.votes;\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 14\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 15\n        },\n        __self: this\n      }, author, \": \", body), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 16\n        },\n        __self: this\n      }, \"Votes: \", votes), author === this.props.username && React.createElement(Button, {\n        text: \"Delete comment\",\n        handleClick: function handleClick() {\n          return _this2.deleteComment(comment_id);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 17\n        },\n        __self: this\n      }), React.createElement(IconImage, {\n        src: like_icon,\n        description: \"like\",\n        vote: function vote() {\n          return _this2.handleCommentVote(comment_id, 1);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 18\n        },\n        __self: this\n      }), React.createElement(IconImage, {\n        src: dislike_icon,\n        description: \"dislike\",\n        vote: function vote() {\n          return _this2.handleCommentVote(comment_id, -1);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 19\n        },\n        __self: this\n      }));\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var comment = this.props.comment;\n      this.setState({\n        comment: comment\n      });\n    }\n  }]);\n\n  return Comment;\n}(Component);\n\nexport default Comment;","map":{"version":3,"sources":["/home/rosiline/coding/FE2-NC-News/nc-knews/src/components/Comment.jsx"],"names":["React","Component","Button","IconImage","like_icon","dislike_icon","api","Comment","state","comment","handleCommentVote","comment_id","voteChange","updateCommentVote","then","setState","prevState","votes","author","body","props","username","deleteComment"],"mappings":";;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,MAAP,MAAmB,UAAnB;AACA,OAAOC,SAAP,MAAsB,aAAtB;AACA,OAAOC,SAAP,MAAsB,wBAAtB;AACA,OAAOC,YAAP,MAAyB,2BAAzB;AACA,OAAO,KAAKC,GAAZ,MAAqB,QAArB;;IAEMC,O;;;;;;;;;;;;;;;;;UACJC,K,GAAQ;AACNC,MAAAA,OAAO,EAAE;AADH,K;;UAmBRC,iB,GAAoB,UAACC,UAAD,EAAaC,UAAb,EAA4B;AAC9CN,MAAAA,GAAG,CAACO,iBAAJ,CAAsBF,UAAtB,EAAkCC,UAAlC,EACGE,IADH,CACQ,UAACL,OAAD,EAAa;AACjB,cAAKM,QAAL,CAAc,UAAAC,SAAS,EAAI;AACzB,iBAAO;AAAEP,YAAAA,OAAO,oBAAOO,SAAS,CAACP,OAAjB;AAA0BQ,cAAAA,KAAK,EAAED,SAAS,CAACP,OAAV,CAAkBQ,KAAlB,GAA0BL;AAA3D;AAAT,WAAP;AACD,SAFD;AAGD,OALH;AAMD,K;;;;;;;6BAvBQ;AAAA;;AAAA,gCACqC,KAAKJ,KAAL,CAAWC,OADhD;AAAA,UACCE,UADD,uBACCA,UADD;AAAA,UACaO,MADb,uBACaA,MADb;AAAA,UACqBC,IADrB,uBACqBA,IADrB;AAAA,UAC2BF,KAD3B,uBAC2BA,KAD3B;AAEP,aAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAIC,MAAJ,QAAcC,IAAd,CADK,EAEL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAAWF,KAAX,CAFK,EAGJC,MAAM,KAAK,KAAKE,KAAL,CAAWC,QAAtB,IAAkC,oBAAC,MAAD;AAAQ,QAAA,IAAI,EAAC,gBAAb;AAA8B,QAAA,WAAW,EAAE;AAAA,iBAAM,MAAI,CAACC,aAAL,CAAmBX,UAAnB,CAAN;AAAA,SAA3C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAH9B,EAIL,oBAAC,SAAD;AAAW,QAAA,GAAG,EAAEP,SAAhB;AAA2B,QAAA,WAAW,EAAC,MAAvC;AAA8C,QAAA,IAAI,EAAE;AAAA,iBAAM,MAAI,CAACM,iBAAL,CAAuBC,UAAvB,EAAmC,CAAnC,CAAN;AAAA,SAApD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAJK,EAKL,oBAAC,SAAD;AAAW,QAAA,GAAG,EAAEN,YAAhB;AAA8B,QAAA,WAAW,EAAC,SAA1C;AAAoD,QAAA,IAAI,EAAE;AAAA,iBAAM,MAAI,CAACK,iBAAL,CAAuBC,UAAvB,EAAmC,CAAC,CAApC,CAAN;AAAA,SAA1D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QALK,CAAP;AAOD;;;wCAEmB;AAAA,UACVF,OADU,GACE,KAAKW,KADP,CACVX,OADU;AAElB,WAAKM,QAAL,CAAc;AAAEN,QAAAA,OAAO,EAAPA;AAAF,OAAd;AACD;;;;EAlBmBR,S;;AA8BtB,eAAeM,OAAf","sourcesContent":["import React, { Component } from 'react';\nimport Button from './Button';\nimport IconImage from './IconImage';\nimport like_icon from '../icons/like_icon.png';\nimport dislike_icon from '../icons/dislike_icon.png';\nimport * as api from '../api';\n\nclass Comment extends Component {\n  state = {\n    comment: {}\n  }\n  render() {\n    const { comment_id, author, body, votes } = this.state.comment;\n    return <div>\n      <p>{author}: {body}</p>\n      <p>Votes: {votes}</p>\n      {author === this.props.username && <Button text='Delete comment' handleClick={() => this.deleteComment(comment_id)} />}\n      <IconImage src={like_icon} description='like' vote={() => this.handleCommentVote(comment_id, 1)} />\n      <IconImage src={dislike_icon} description='dislike' vote={() => this.handleCommentVote(comment_id, -1)} />\n    </div>\n  }\n\n  componentDidMount() {\n    const { comment } = this.props;\n    this.setState({ comment });\n  }\n\n  handleCommentVote = (comment_id, voteChange) => {\n    api.updateCommentVote(comment_id, voteChange)\n      .then((comment) => {\n        this.setState(prevState => {\n          return { comment: { ...prevState.comment, votes: prevState.comment.votes + voteChange } }\n        })\n      })\n  }\n}\n\nexport default Comment;"]},"metadata":{},"sourceType":"module"}