(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{14:function(e,t,n){e.exports=n.p+"static/media/like_icon.c17f9a91.png"},15:function(e,t,n){e.exports=n.p+"static/media/dislike_icon.deb694b8.png"},29:function(e,t,n){e.exports=n(66)},34:function(e,t,n){},35:function(e,t,n){},66:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(26),o=n.n(c),i=(n(34),n(3)),l=n(4),s=n(6),u=n(5),m=n(7),p=(n(35),function(e){return r.a.createElement("h2",null,e.text)}),h=n(1),d=function(){return r.a.createElement("div",{className:"navbar"},r.a.createElement(h.a,{to:"/"},r.a.createElement("h3",{className:"outerText",id:"navBarSmall"},"Home")),r.a.createElement(h.a,{to:"/topics"},r.a.createElement("h3",{className:"outerText",id:"navBarSmall"},"Topics")),r.a.createElement(h.a,{to:"/articles"},r.a.createElement("h3",{className:"outerText",id:"navBarSmall"},"View all articles")),r.a.createElement(h.a,{to:"/addarticle"},r.a.createElement("h3",{className:"outerText",id:"navBarSmall"},"Add new article")),r.a.createElement(h.a,{to:"/users"},r.a.createElement("h3",{className:"outerText",id:"navBarSmall"},"View all users")))},f=function(e){return r.a.createElement("button",{className:"btn btn-warning",onClick:e.handleClick},e.text)},v=n(2),g=n.n(v),b=n(8),E=n(28),y=n.n(E).a.create({baseURL:"https://nc-knews-vik.herokuapp.com/api"}),k=function(){var e=Object(b.a)(g.a.mark(function e(){var t,n;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.get("/topics");case 2:return t=e.sent,n=t.data,e.abrupt("return",n.topics);case 5:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),C=function(){var e=Object(b.a)(g.a.mark(function e(t,n){var a,r;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.post("/topics",{slug:t,description:n});case 2:return a=e.sent,r=a.data,e.abrupt("return",r.topic);case 5:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}(),O=function(){var e=Object(b.a)(g.a.mark(function e(t){var n,a,r,c,o,i;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.sort_by,a=t.topic,r=t.p,c=t.limit,e.next=3,y.get("/articles",{params:{sort_by:n,topic:a,p:r,limit:c}});case 3:return o=e.sent,i=o.data,e.abrupt("return",i);case 6:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),j=function(){var e=Object(b.a)(g.a.mark(function e(t){var n,a;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.get("/articles/".concat(t));case 2:return n=e.sent,a=n.data,e.abrupt("return",a.article);case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),w=function(){var e=Object(b.a)(g.a.mark(function e(t,n,a,r){var c,o;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.post("/articles",{title:t,body:n,topic:a,username:r});case 2:return c=e.sent,o=c.data,e.abrupt("return",o.article);case 5:case"end":return e.stop()}},e)}));return function(t,n,a,r){return e.apply(this,arguments)}}(),x=function(){var e=Object(b.a)(g.a.mark(function e(t,n){var a,r;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.patch("/articles/".concat(t),{inc_votes:n});case 2:return a=e.sent,r=a.data,e.abrupt("return",r.article);case 5:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}(),_=function(){var e=Object(b.a)(g.a.mark(function e(t){var n,a;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.delete("/articles/".concat(t));case 2:return n=e.sent,a=n.data,e.abrupt("return",a);case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),S=function(){var e=Object(b.a)(g.a.mark(function e(){var t,n;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.get("/users");case 2:return t=e.sent,n=t.data,e.abrupt("return",n);case 5:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),N=function(){var e=Object(b.a)(g.a.mark(function e(t){var n,a;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.get("/users/".concat(t));case 2:return n=e.sent,a=n.data,e.abrupt("return",a.user);case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),T=function(){var e=Object(b.a)(g.a.mark(function e(t,n,a){var r,c;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.get("/articles/".concat(t,"/comments"),{params:{p:n,limit:a}});case 2:return r=e.sent,c=r.data,e.abrupt("return",c.comments);case 5:case"end":return e.stop()}},e)}));return function(t,n,a){return e.apply(this,arguments)}}(),A=function(){var e=Object(b.a)(g.a.mark(function e(t,n,a){var r,c;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.post("/articles/".concat(t,"/comments"),{username:n,body:a});case 2:return r=e.sent,c=r.data,e.abrupt("return",c.comment);case 5:case"end":return e.stop()}},e)}));return function(t,n,a){return e.apply(this,arguments)}}(),D=function(){var e=Object(b.a)(g.a.mark(function e(t){var n,a;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.delete("/comments/".concat(t));case 2:return n=e.sent,a=n.data,e.abrupt("return",a);case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),U=function(){var e=Object(b.a)(g.a.mark(function e(t,n){var a,r;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.patch("comments/".concat(t),{inc_votes:n});case 2:return a=e.sent,r=a.data,e.abrupt("return",r.comment);case 5:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}(),P=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={articles:[],total_count:0,loading:!0,p:1,limit:10,sort_by:""},n.handleChange=function(e){var t=e.target.value;n.setState({sort_by:t})},n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.state,n=t.articles,a=t.total_count,c=t.loading,o=t.p,i=t.limit;return r.a.createElement("div",null,"/"===this.props.path&&r.a.createElement(p,{path:"/",text:"Currently trending"}),"/articles"===this.props.path&&r.a.createElement(p,{text:"All articles"}),"/topics/:topic"===this.props.path&&r.a.createElement(p,{text:this.props.topic}),r.a.createElement(h.a,{to:"/addarticle"},r.a.createElement(f,{text:"Add new article"}))," ",r.a.createElement("br",null),o>1&&r.a.createElement(f,{text:"Previous page",handleClick:function(){return e.fetchArticles(o-1,i)}}),o<Math.ceil(a/i)&&r.a.createElement(f,{text:"Next page",handleClick:function(){return e.fetchArticles(o+1,i)}})," ",r.a.createElement("br",null),r.a.createElement("p",null,"Current page: ",o," "),"/"!==this.props.path&&r.a.createElement("div",null,r.a.createElement("p",null,"Sort by:"),r.a.createElement("select",{name:"sort",id:"sort",onChange:this.handleChange},r.a.createElement("option",{value:"created_at"},"Date created"),r.a.createElement("option",{value:"comment_count"},"Comment count"),r.a.createElement("option",{value:"votes"},"Votes"))),c&&"Loading...",r.a.createElement("ul",null,0===n.length&&"Nothing here yet! Feel free to add an article",n.map(function(e){var t=e.title,n=e.author,a=e.article_id,c=e.created_at,o=e.comment_count,i=e.votes,l=e.topic;return r.a.createElement("li",{key:a},r.a.createElement(h.a,{to:"/articles/".concat(a)},r.a.createElement("h4",null,t," - by ",n)),r.a.createElement("p",null,"Topic: ",l),r.a.createElement("p",null,"Posted: ",c),r.a.createElement("p",null,"Comments: ",o),r.a.createElement("p",null,"Votes: ",i))})),o>1&&r.a.createElement(f,{text:"Previous page",handleClick:function(){return e.fetchArticles(o-1,i)}}),o<Math.ceil(a/i)&&r.a.createElement(f,{text:"Next page",handleClick:function(){return e.fetchArticles(o+1,i)}})," ",r.a.createElement("br",null),r.a.createElement("p",null,"Current page: ",o," "))}},{key:"componentDidMount",value:function(){this.setState({sort_by:this.props.sort_by}),this.fetchArticles()}},{key:"componentDidUpdate",value:function(e,t){var n=this;console.log("updated");var a=this.props.topic!==e.topic,r=this.props.sort_by!==e.sort_by,c=this.state.sort_by!==t.sort_by;r&&this.setState({sort_by:this.props.sort_by},function(){n.fetchArticles()}),(c||a)&&this.fetchArticles()}},{key:"fetchArticles",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,a=this.props.topic,r=this.state.sort_by;O({sort_by:r,topic:a,p:t,limit:n}).then(function(a){var r=a.articles,c=a.total_count;e.setState({articles:r,total_count:c,loading:!1,p:t,limit:n})}).catch(function(t){e.props.navigate("/not-found")})}}]),t}(a.Component),V=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={user:{}},n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.state.user,t=this.props.loggedIn;return r.a.createElement("div",{className:"userinfo outerText"},!t&&r.a.createElement(h.a,{to:"/login"},r.a.createElement(f,{text:"Log in"})),t&&r.a.createElement(h.a,{to:"/",onClick:this.props.signOut},r.a.createElement(f,{text:"Sign out"})),t&&r.a.createElement("p",null,"Welcome back ",e.name),t&&r.a.createElement("p",null,"Username: ",r.a.createElement("em",null,e.username)),t&&r.a.createElement("img",{className:"avatar",src:e.avatar_url,alt:"avatar"}))}},{key:"componentDidMount",value:function(){var e=this.props.username;e&&this.fetchUser(e)}},{key:"componentDidUpdate",value:function(e,t){var n=this.props.username,a=e.username!==this.props.username;console.log(a,n),a&&n&&this.fetchUser(n)}},{key:"fetchUser",value:function(e){var t=this;N(e).then(function(e){t.setState({user:e})}).catch(function(e){Object(h.c)("/not-found")})}}]),t}(a.Component),L=function(){return r.a.createElement("div",{className:"footer outerText"},r.a.createElement("p",null,"Created by Viktorija Cumacenko"),r.a.createElement("p",null,r.a.createElement("a",{href:"https://nc-knews-vik.herokuapp.com/api"},"Link to API")))},M=n(13),H=n(16),I=function(e){var t=e.username;return r.a.createElement("div",null,!t&&r.a.createElement("p",null,"Please ",r.a.createElement(h.a,{to:"/login"},"log in")," to add a comment"),t&&r.a.createElement("form",{onSubmit:e.addComment},r.a.createElement("label",{htmlFor:"body"},"New Comment:"),r.a.createElement("input",{type:"text",id:"body",required:!0}),r.a.createElement("input",{type:"submit",value:"Submit"})))},F=function(e){return r.a.createElement("img",{className:"icon",src:e.src,alt:e.description,onClick:e.vote})},q=n(14),B=n.n(q),J=n(15),R=n.n(J),W=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={comment:{},voteChange:0},n.handleCommentVote=function(e,t,a){t+e<2&&t+e>-2&&U(a,e).then(function(t){n.setState(function(t){return{comment:Object(M.a)({},t.comment,{votes:t.comment.votes+e}),voteChange:t.voteChange+e}})}).catch(function(e){n.props.navigate("/not-found")})},n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.state.comment,n=t.comment_id,a=t.author,c=t.body,o=t.votes,i=t.created_at,l=this.state.voteChange;return r.a.createElement("div",null,r.a.createElement("p",null,a,": ",c),r.a.createElement("p",null,"Posted: ",i),r.a.createElement("p",null,"Votes: ",o),a===this.props.username&&r.a.createElement(f,{text:"Delete comment",handleClick:function(){return e.props.deleteComment(n)}}),r.a.createElement(F,{src:B.a,description:"like",vote:function(){return e.handleCommentVote(1,l,n)}}),r.a.createElement(F,{src:R.a,description:"dislike",vote:function(){return e.handleCommentVote(-1,l,n)}}))}},{key:"componentDidMount",value:function(){var e=this.props.comment;this.setState({comment:e})}}]),t}(a.Component),z=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={article:{},comments:[],loading:!0,commentPage:1,commentLimit:10,voteChange:0},n.addComment=function(e){e.preventDefault();var t=n.props,a=t.article_id,r=t.username,c=e.target[0].value;A(a,r,c).then(function(e){n.setState(function(t){return{comments:[e].concat(Object(H.a)(t.comments))}})}).catch(function(e){n.props.navigate("/not-found")}),e.target[0].value=""},n.deleteComment=function(e){D(e).then(function(){return n.fetchComments()}).catch(function(e){n.props.navigate("/not-found")})},n.handleClick=function(){var e=n.props.article_id;_(e).then(function(){Object(h.c)("/articles")}).catch(function(e){n.props.navigate("/not-found")})},n.handleVoteClick=function(e,t,a){t+e<2&&t+e>-2&&x(a,e).then(function(){n.setState(function(t){return{article:Object(M.a)({},t.article,{votes:t.article.votes+e}),voteChange:t.voteChange+e}})}).catch(function(e){n.props.navigate("/not-found")})},n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.username,a=t.article_id,c=this.state,o=c.article,i=c.comments,l=c.loading,s=c.commentPage,u=c.commentLimit,m=c.voteChange;return r.a.createElement("div",null,r.a.createElement("h3",null,o.title),l&&"Loading...",r.a.createElement("h4",null,"Created by ",o.author,", ",o.created_at),r.a.createElement("p",null,o.body),r.a.createElement("p",null,"Votes: ",o.votes),n===o.author&&r.a.createElement(f,{text:"Delete article",handleClick:this.handleClick}),r.a.createElement(F,{src:B.a,description:"like",vote:function(){return e.handleVoteClick(1,m,a)}}),r.a.createElement(F,{src:R.a,description:"dislike",vote:function(){return e.handleVoteClick(-1,m,a)}}),r.a.createElement("h4",null,i.length," Comments:"),r.a.createElement(I,{addComment:this.addComment,username:this.props.username}),s>1&&r.a.createElement(f,{text:"Previous comments",handleClick:function(){return e.fetchComments(s-1,u)}}),s<Math.ceil(o.comment_count/u)&&r.a.createElement(f,{text:"Next comments",handleClick:function(){return e.fetchComments(s+1,u)}}),i.map(function(t){return r.a.createElement(W,{key:t.comment_id,comment:t,username:n,deleteComment:e.deleteComment})}))}},{key:"componentDidMount",value:function(){this.fetchArticle(),this.fetchComments()}},{key:"componentDidUpdate",value:function(e,t){console.log("update!!")}},{key:"fetchArticle",value:function(){var e=this,t=this.props.article_id;j(t).then(function(t){e.setState({article:t,loading:!1})}).catch(function(t){e.props.navigate("/not-found")})}},{key:"fetchComments",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,a=this.props.article_id;T(a,t,n).then(function(a){console.log(a),e.setState({comments:a,commentPage:t,commentLimit:n})}).catch(function(t){e.props.navigate("/not-found")})}}]),t}(a.Component),G=n(10),K=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={topics:[],loading:!0,slug:"",description:""},n.handleSubmit=function(e){e.preventDefault();var t=n.state,a=t.slug,r=t.description;C(a,r).then(function(e){n.setState(function(t){return{topics:[].concat(Object(H.a)(t.topics),[e])}})}).catch(function(e){n.props.navigate("/not-found")})},n.handleChange=function(e){var t=e.target.id,a=e.target.value;n.setState(Object(G.a)({},t,a))},n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.state,t=e.topics,n=e.loading,a=this.props.username;return r.a.createElement("div",null,r.a.createElement("h3",null,"Topics"),!a&&r.a.createElement("p",null,"Please ",r.a.createElement(h.a,{to:"/login"},"log in")," to add a topic. Feel free to browse existing articles anonymously"),a&&r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"slug"},"Topic"),r.a.createElement("input",{className:"form-control",type:"text",id:"slug",required:!0,onChange:this.handleChange})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"description"},"Description"),r.a.createElement("input",{className:"form-control",type:"text",id:"description",required:!0,onChange:this.handleChange})),r.a.createElement("button",{className:"btn btn-warning",type:"submit",value:"Add New Topic"},"Add Topic")),n&&"Loading...",r.a.createElement("ul",null,t.map(function(e){var t=e.slug,n=e.description;return r.a.createElement(h.a,{key:t,to:"/topics/".concat(t)},r.a.createElement("li",null,r.a.createElement("h4",null,t," - ",n)))})))}},{key:"componentDidMount",value:function(){this.fetchTopics()}},{key:"fetchTopics",value:function(){var e=this;k().then(function(t){e.setState({topics:t,loading:!1})}).catch(function(t){e.props.navigate("/not-found")})}}]),t}(a.Component),Q=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={users:[],loading:!0},n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.state,t=e.users,n=e.loading;return r.a.createElement("div",null,r.a.createElement("h3",null,"Users list"),n&&"Loading...",r.a.createElement("ul",null,t.map(function(e){var t=e.username;return r.a.createElement(h.a,{key:t,to:"/users/".concat(t)},r.a.createElement("li",null,t))})))}},{key:"componentDidMount",value:function(){var e=this;S().then(function(t){var n=t.users;e.setState({users:n,loading:!1})}).catch(function(t){e.props.navigate("/not-found")})}}]),t}(a.Component),X=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={topics:[],title:"",body:"",topic:"",description:"",username:"",newTopicHidden:!0},n.handleSubmit=function(e){e.preventDefault();var t=n.state,a=t.username,r=t.title,c=t.body,o=t.topic,i=t.topics,l=t.description;i.includes(o)?w(r,c,o,a).then(function(e){var t=e.article_id;Object(h.c)("/articles/".concat(t))}):C(o,l).then(function(){return w(r,c,o,a)}).then(function(e){var t=e.article_id;Object(h.c)("/articles/".concat(t))}).catch(function(e){n.props.navigate("/not-found")})},n.handleChange=function(e){var t=e.target.id,a=e.target.value;n.setState(Object(G.a)({},t,a))},n.handleSelect=function(e){var t=e.target.value;"Create New Topic"===t?n.setState({newTopicHidden:!1}):n.setState({topic:t,newTopicHidden:!0})},n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.state,t=e.topics,n=e.username;return r.a.createElement("div",null,!n&&r.a.createElement("p",null,"Please ",r.a.createElement(h.a,{to:"/login"},"log in")," to post an article"),n&&r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Title"),r.a.createElement("input",{className:"form-control",type:"text",id:"title",onChange:this.handleChange,required:!0})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Body"),r.a.createElement("textarea",{className:"form-control",type:"text",id:"body",onChange:this.handleChange,required:!0})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Topic"),r.a.createElement("select",{className:"form-control",name:"topic",id:"topic",onChange:this.handleSelect},r.a.createElement("option",{value:"Select Topic"},"--Select Topic--"),t.map(function(e){return r.a.createElement("option",{key:e,value:e},e)}),r.a.createElement("option",{value:"Create New Topic"},"Create New Topic"))),r.a.createElement("label",{htmlFor:"topic",hidden:this.state.newTopicHidden},"New Topic: "),r.a.createElement("input",{type:"text",id:"topic",hidden:this.state.newTopicHidden,onChange:this.handleChange,required:!this.state.newTopicHidden}),r.a.createElement("label",{htmlFor:"description",hidden:this.state.newTopicHidden},"Topic Description:"),r.a.createElement("input",{type:"text",id:"description",hidden:this.state.newTopicHidden,onChange:this.handleChange,required:!this.state.newTopicHidden}),r.a.createElement("input",{className:"btn btn-warning",type:"submit",value:"Submit"})))}},{key:"componentDidMount",value:function(){var e=this.props.username;this.setState({username:e}),this.fetchTopics()}},{key:"componentDidUpdate",value:function(){}},{key:"fetchTopics",value:function(){var e=this;k().then(function(t){var n=t.map(function(e){return e.slug});e.setState({topics:n})}).catch(function(t){e.props.navigate("/not-found")})}}]),t}(a.Component),Y=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={user:{},loading:!0},n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.state,t=e.user,n=t.username,a=t.avatar_url,c=e.loading;return r.a.createElement("div",null,c&&"Loading...",r.a.createElement("p",null,"Username: ",n),r.a.createElement("img",{className:"avatar",src:a,alt:"avatar"}))}},{key:"componentDidMount",value:function(){var e=this;N(this.props.username).then(function(t){e.setState({user:t,loading:!1})}).catch(function(t){e.props.navigate("/not-found")})}}]),t}(a.Component),Z=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("form",{onSubmit:this.props.changeUser},r.a.createElement("label",{htmlFor:"username"},"Username:"),r.a.createElement("input",{type:"text"}),r.a.createElement("input",{className:"btn btn-warning",type:"submit",value:"Login"})),r.a.createElement("p",null,"For demo purposes please log in as any of these users(case sensitive): jessjelly, tickle122, grumpy19, happyamy2016, cooljmessy or weegembump"))}}]),t}(a.Component),$=function(){return r.a.createElement("div",null,r.a.createElement("h2",null,"Oops! Something went wrong"),r.a.createElement("p",null,"Page not found :("))},ee=n(17),te=n.n(ee),ne=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={username:"",loggedIn:!1},n.changeUser=function(e){e.preventDefault();var t=e.target[0].value;S().then(function(e){return e.users.map(function(e){return e.username})}).then(function(e){e.includes(t)?(n.setState({username:t,loggedIn:!0}),te.a.set("username",t),Object(h.c)("/")):alert("There was a problem logging in. Please check the username is valid")})},n.signOut=function(){te.a.remove("username"),n.setState({username:"",loggedIn:!1})},n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement("div",{className:"header"},r.a.createElement(p,{text:"VC News"})),r.a.createElement(V,{username:this.state.username,signOut:this.signOut,loggedIn:this.state.loggedIn}),r.a.createElement(d,null),r.a.createElement(h.b,{className:"main overlay",tabIndex:""},r.a.createElement(P,{path:"/",sort_by:"comment_count"}),r.a.createElement(K,{path:"/topics",username:this.state.username}),r.a.createElement(P,{path:"/articles",sort_by:"created_at"}),r.a.createElement(P,{path:"/topics/:topic",sort_by:"created_at"}),r.a.createElement(z,{path:"/articles/:article_id",username:this.state.username}),r.a.createElement(Q,{path:"/users"}),r.a.createElement(X,{path:"/addarticle",username:this.state.username}),r.a.createElement(Y,{path:"/users/:username"}),r.a.createElement(Z,{path:"/login",changeUser:this.changeUser}),r.a.createElement($,{default:!0,path:"/not-found"})),r.a.createElement(L,null))}},{key:"componentDidMount",value:function(){var e=te.a.get("username");e&&this.setState({username:e,loggedIn:!0})}}]),t}(a.Component);o.a.render(r.a.createElement(ne,null),document.getElementById("root"))}},[[29,1,2]]]);
//# sourceMappingURL=main.73873023.chunk.js.map